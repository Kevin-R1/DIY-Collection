方法 1：通过 root 用户添加 nanta 到 sudo 组
切换到 root 用户：

如果知道 root 密码：

bash
su -
输入 root 密码后继续。

如果 root 密码未设置（Debian 默认可能禁用），需先启用：

bash
sudo passwd root  # 如果已有 sudo 权限的用户
将 nanta 加入 sudo 组：

bash
usermod -aG sudo nanta
退出并重新登录：

bash
exit
重新以 nanta 用户登录后，即可使用 sudo。

方法 2：直接修改 /etc/sudoers 文件
使用 root 用户编辑文件：

bash
visudo
⚠️ 必须用 visudo（避免语法错误导致系统锁死）。

添加以下行：

ini
nanta ALL=(ALL:ALL) ALL
保存退出（按 Ctrl+X → Y → 回车）。

方法 3：临时获取 root 权限（无 sudo 时）
如果无法切换到 root，但可以物理访问机器或通过恢复模式：

重启系统，在 GRUB 菜单选择 “Advanced options for Debian” → “Recovery Mode”。

选择 “root” 进入 root shell。

执行方法 1 或 2 的操作后重启：

bash
reboot
3. 验证修复
重新登录后，运行以下命令测试：

bash
sudo apt update
如果不再报错，说明权限已修复。

4. 常见问题
Q1：su - 提示 认证失败？
Debian 默认可能禁用 root 登录。需先设置 root 密码：

bash
sudo passwd root  # 用已有 sudo 权限的用户
Q2：visudo 找不到命令？
安装 sudo 包（需 root 权限）：

bash
apt install sudo
5. 总结
步骤	命令	说明
切换到 root	su -	需要 root 密码
添加用户到 sudo 组	usermod -aG sudo 用户名	需 root 权限
直接编辑 sudoers	visudo	谨慎操作！
恢复模式修复	通过 GRUB 进入单用户模式	适用于无法登录的情况
